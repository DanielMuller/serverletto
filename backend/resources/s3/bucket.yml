Type: 'AWS::S3::Bucket'
DeletionPolicy: Retain
Properties:
  BucketName: ${self:custom.bucketName}
  PublicAccessBlockConfiguration:
    BlockPublicAcls: false
    BlockPublicPolicy: true
    IgnorePublicAcls: false
    RestrictPublicBuckets: true
  OwnershipControls:
    Rules:
      - ObjectOwnership: BucketOwnerPreferred
  AccessControl: AwsExecRead
  CorsConfiguration:
    CorsRules:
      - AllowedHeaders:
          - '*'
        AllowedMethods:
          - GET
        AllowedOrigins:
          - '*'
        ExposedHeaders:
          - Date
        Id: GetObject
        MaxAge: 3600
      - AllowedHeaders:
          - '*'
        AllowedMethods:
          - PUT
          - POST
        AllowedOrigins:
          - '*'
        ExposedHeaders:
          - x-amz-server-side-encryption
          - x-amz-request-id
          - x-amz-id-2
        Id: PutObject
        MaxAge: 1800
  NotificationConfiguration:
    EventBridgeConfiguration:
      EventBridgeEnabled: true
